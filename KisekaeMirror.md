# KisekaeMirror - 着せ替え体験アプリ仕様書

## 📖 概要
**KisekaeMirror** は、カメラに映った人物に対して、読み込んだ服のイラスト画像をリアルタイムで重ねて表示することで、まるで鏡の前で試着しているような体験を提供するアプリです。  
服の画像は背景透過されたイラストを使用し、ユーザーが手動で分類・読み込みを行います。

---

## 🖥️ 対象プラットフォームと構成

- **対象プラットフォーム**：macOS（USB接続のWebカメラを使用）
- **アプリ形式**：Webアプリ（開発が容易でAIによる支援に適している）
- **技術スタック（AI提案）**：
  - フロントエンド：React + Three.js
  - 人物検出：MediaPipe（軽量かつ高精度な骨格検出ライブラリ）
  - 画像処理：HTML5 Canvas API / WebGL
  - その他：Vite（開発環境）、TypeScript（推奨）

---

## 🎨 主な機能

### 1. 服の画像読み込み
- ユーザーが服のイラスト画像（背景透過PNGなど）を読み込む
- 読み込み方法：
  - ドラッグ＆ドロップ
  - または「画像を読み込む」ボタン
- 読み込んだ画像は、以下のいずれかに分類（ユーザーが手動で選択）：
  - ① 上半身（例：シャツ、ジャケット）
  - ② 下半身（例：ズボン、スカート）
  - ③ 全身（例：ドレス、つなぎ）

### 2. カメラ映像の取得と人物検出
- USB接続のWebカメラからリアルタイム映像を取得
- MediaPipeを用いて人物の骨格情報（ボーンデータ）を取得
- 上半身・下半身・全身の位置を推定

### 3. 服の合成表示
- 読み込んだ服画像を、骨格情報に基づいて以下を自動調整：
  - 位置
  - スケーリング（サイズ）
  - 回転（角度）
- 合成ルール：
  - ①と②は同時に着用可能（片方のみでも可）
  - ③は単独で着用（①②と同時には着用不可）
- 合成された映像はリアルタイムで画面に表示される

---

## 🔧 初期バージョンの制限と今後の展望

### 初期バージョンでは未対応：
- 録画機能
- スクリーンショット機能
- 服の自動分類

### 将来的な拡張案：
- 録画・撮影機能の追加
- AIによる服の自動分類
- モバイル対応（スマートフォン・タブレット）
- 複数人同時検出への対応

---

## 📁 プロジェクト情報

- **プロジェクト名**：KisekaeMirror
- **作業フォルダ名**：`kisekae-mirror`
- **開発環境**：Visual Studio Code + GitHub Copilot

---

## 🌱 備考
- 服の画像は、背景が透過されたPNG形式を推奨
- 画像のサイズや解像度は、人物のスケールに合わせて自動調整される
- 処理の重さを抑えつつ、自然な見た目を目指す

