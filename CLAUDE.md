# CLAUDE.md - 開発ガイドライン

## プロジェクト概要
**KisekaeMirror** - Webカメラで人物を認識し、服のイラストをリアルタイムで重ねて表示する着せ替えアプリ

## 技術スタック（確定版）
```
- HTML + Vanilla JavaScript（フレームワーク不使用）
- MediaPipe Pose（CDN経由で読み込み）
- Canvas API（画像重ね合わせ）
- Vite（開発サーバーのみ）
```

## 開発方針
1. **最小構成**: 必要最小限の技術のみ使用
2. **シンプル**: 初心者でも理解できるコード
3. **軽量**: PCに負荷をかけない
4. **プロトタイプ優先**: まず動くものを作る

## 技術選定の理由
- **Reactを使わない理由**: フレームワーク不要、シンプルに保つ
- **TypeScriptを使わない理由**: ビルド設定不要、学習コスト削減
- **Canvas APIを使う理由**: ブラウザ標準、軽量、高パフォーマンス
- **Three.jsを使わない理由**: 2D処理にはオーバースペック

## プロジェクト構造
```
kisekae-mirror-claude/
├── index.html           # メインHTML
├── main.js              # メインロジック
├── style.css            # スタイル
├── package.json         # Vite設定のみ
├── KisekaeMirror.md     # 仕様書
├── CLAUDE.md            # このファイル
├── DEVELOPMENT-LOG.md   # 開発ログ
└── README.md            # 使い方説明
```

## 主要機能
1. カメラ映像の取得と表示
2. MediaPipeによる骨格検出（上半身・下半身の位置特定）
3. 服画像の読み込み（ドラッグ&ドロップ / ボタン）
4. 服の分類（上半身/下半身/全身）
5. 服の重ね合わせ表示（位置・スケール・回転の自動調整）

## 合成ルール
- 上半身と下半身は同時着用可能
- 全身は単独のみ（上半身・下半身と同時着用不可）

## コーディング規約
- コメントは日本語でわかりやすく
- 変数名は英語、意味が明確なもの
- 関数は小さく、1つの責務のみ
- エラーハンドリングを適切に実装

## 開発時の注意点
- DEVELOPMENT-LOG.mdに作業内容を随時記録
- 各機能実装後、動作確認を行う
- パフォーマンスに配慮（FPS低下を防ぐ）
- ブラウザのカメラ権限が必要

## 未実装機能（将来的な拡張）
- 録画機能
- スクリーンショット機能
- 服の自動分類
- モバイル対応
- 複数人同時検出
